{"ast":null,"code":"import _slicedToArray from\"/Users/carldiederichs/code/carldiederichs/javascript-projects/mern-udemy/places-mern-project/react-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/carldiederichs/code/carldiederichs/javascript-projects/mern-udemy/places-mern-project/react-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useEffect}from'react';import{validate}from'../../util/validators';import'./Input.css';var inputReducer=function inputReducer(state,action){switch(action.type){case'CHANGE':return _objectSpread(_objectSpread({},state),{},{value:action.val,isValid:validate(action.val,action.validators)});case'TOUCH':{return _objectSpread(_objectSpread({},state),{},{isTouched:true});}default:return state;}};var Input=function Input(props){var _useReducer=useReducer(inputReducer,{value:props.initialValue||'',isTouched:false,isValid:props.initialValid||false}),_useReducer2=_slicedToArray(_useReducer,2),inputState=_useReducer2[0],dispatch=_useReducer2[1];var id=props.id,onInput=props.onInput;var value=inputState.value,isValid=inputState.isValid;useEffect(function(){onInput(id,value,isValid);},[id,value,isValid,onInput]);var changeHandler=function changeHandler(event){dispatch({type:'CHANGE',val:event.target.value,validators:props.validators});};var touchHandler=function touchHandler(){dispatch({type:'TOUCH'});};var element=props.element==='input'?/*#__PURE__*/React.createElement(\"input\",{id:props.id,type:props.type,placeholder:props.placeholder,onChange:changeHandler,onBlur:touchHandler,value:inputState.value}):/*#__PURE__*/React.createElement(\"textarea\",{id:props.id,rows:props.rows||3,onChange:changeHandler,onBlur:touchHandler,value:inputState.value});return/*#__PURE__*/React.createElement(\"div\",{className:\"form-control \".concat(!inputState.isValid&&inputState.isTouched&&'form-control--invalid')},/*#__PURE__*/React.createElement(\"label\",{htmlFor:props.id},props.label),element,!inputState.isValid&&inputState.isTouched&&/*#__PURE__*/React.createElement(\"p\",null,props.errorText));};export default Input;","map":{"version":3,"names":["React","useReducer","useEffect","validate","inputReducer","state","action","type","_objectSpread","value","val","isValid","validators","isTouched","Input","props","_useReducer","initialValue","initialValid","_useReducer2","_slicedToArray","inputState","dispatch","id","onInput","changeHandler","event","target","touchHandler","element","createElement","placeholder","onChange","onBlur","rows","className","concat","htmlFor","label","errorText"],"sources":["/Users/carldiederichs/code/carldiederichs/javascript-projects/mern-udemy/places-mern-project/react-frontend/src/shared/components/FormElements/Input.js"],"sourcesContent":["import React, { useReducer, useEffect } from 'react';\n\nimport { validate } from '../../util/validators';\nimport './Input.css';\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGE':\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.validators)\n      };\n    case 'TOUCH': {\n      return {\n        ...state,\n        isTouched: true\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst Input = props => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.initialValue || '',\n    isTouched: false,\n    isValid: props.initialValid || false\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid);\n  }, [id, value, isValid, onInput]);\n\n  const changeHandler = event => {\n    dispatch({\n      type: 'CHANGE',\n      val: event.target.value,\n      validators: props.validators\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: 'TOUCH'\n    });\n  };\n\n  const element =\n    props.element === 'input' ? (\n      <input\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : (\n      <textarea\n        id={props.id}\n        rows={props.rows || 3}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div\n      className={`form-control ${!inputState.isValid && \n        inputState.isTouched &&\n        'form-control--invalid'}`}\n    >\n      <label htmlFor={props.id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}