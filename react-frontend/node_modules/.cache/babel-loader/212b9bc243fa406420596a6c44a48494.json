{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Route,Redirect,Switch}from'react-router-dom';import Users from'./user/pages/Users';import NewPlace from'./places/pages/NewPlace';import UserPlaces from'./places/pages/UserPlaces';import UpdatePlace from'./places/pages/UpdatePlace';import Auth from'./user/pages/Auth';import MainNavigation from'./shared/components/Navigation/MainNavigation';import{AuthContext}from'./shared/context/auth-context';import{useAuth}from'./shared/hooks/auth-hook';var App=function App(){var _useAuth=useAuth(),token=_useAuth.token,login=_useAuth.login,logout=_useAuth.logout,userId=_useAuth.userId;var routes;if(token){routes=/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true},/*#__PURE__*/React.createElement(Users,null)),/*#__PURE__*/React.createElement(Route,{path:\"/:userId/places\",exact:true},/*#__PURE__*/React.createElement(UserPlaces,null)),/*#__PURE__*/React.createElement(Route,{path:\"/places/new\",exact:true},/*#__PURE__*/React.createElement(NewPlace,null)),/*#__PURE__*/React.createElement(Route,{path:\"/places/:placeId\"},/*#__PURE__*/React.createElement(UpdatePlace,null)),/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}));}else{routes=/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true},/*#__PURE__*/React.createElement(Users,null)),/*#__PURE__*/React.createElement(Route,{path:\"/:userId/places\",exact:true},/*#__PURE__*/React.createElement(UserPlaces,null)),/*#__PURE__*/React.createElement(Route,{path:\"/auth\"},/*#__PURE__*/React.createElement(Auth,null)),/*#__PURE__*/React.createElement(Redirect,{to:\"/auth\"}));}return/*#__PURE__*/React.createElement(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout}},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(MainNavigation,null),/*#__PURE__*/React.createElement(\"main\",null,routes)));};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Route","Redirect","Switch","Users","NewPlace","UserPlaces","UpdatePlace","Auth","MainNavigation","AuthContext","useAuth","App","_useAuth","token","login","logout","userId","routes","createElement","path","exact","to","Provider","value","isLoggedIn"],"sources":["/Users/carldiederichs/code/carldiederichs/javascript-projects/mern-udemy/places-mern-project/react-frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { \n  BrowserRouter as Router, \n  Route, \n  Redirect, \n  Switch\n} from 'react-router-dom';\n\nimport Users from './user/pages/Users';\nimport NewPlace from './places/pages/NewPlace';\nimport UserPlaces from './places/pages/UserPlaces';\nimport UpdatePlace from './places/pages/UpdatePlace';\nimport Auth from './user/pages/Auth';\nimport MainNavigation from './shared/components/Navigation/MainNavigation';\nimport { AuthContext } from './shared/context/auth-context';\nimport { useAuth } from './shared/hooks/auth-hook';\n\nconst App = () => {\n  const {token, login, logout, userId} = useAuth(); \n\n  let routes; \n\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path='/' exact>\n          <Users />\n        </Route>\n        <Route path='/:userId/places' exact>\n          <UserPlaces />\n        </Route>\n        <Route path='/places/new' exact>\n          <NewPlace />\n        </Route>\n        <Route path='/places/:placeId'>\n          <UpdatePlace />\n        </Route>\n        <Redirect to='/'/>\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path='/' exact>\n          <Users />\n        </Route>\n        <Route path='/:userId/places' exact>\n          <UserPlaces />\n        </Route>\n        <Route path='/auth'>\n          <Auth/> \n        </Route>\n        <Redirect to='/auth'/>\n      </Switch>\n    );\n  }\n\n  return ( \n    <AuthContext.Provider \n      value={{\n        isLoggedIn: !!token, \n        token: token,\n        userId: userId, \n        login: login, \n        logout: logout\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>\n          {routes}\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}